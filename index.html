<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8" />
<title>خريطة فروع كودو مع المواعيد</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
/>
<style>
  body, html {
    margin: 0; padding: 0; height: 100%; font-family: Arial, sans-serif; direction: rtl;
  }
  #map {
    height: 100vh; width: 100%;
  }
  .leaflet-tooltip {
    font-weight: bold;
    background: transparent !important;
    color: black !important;
    border: none !important;
    box-shadow: none !important;
    font-size: 13px;
    padding: 0;
    white-space: nowrap;
  }
</style>
</head>
<body>
<div id="map"></div>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<script>
  const stores = [
    {
      name: "KR-01",
      status: "Open",
      delivery: "Yes",
      brand: "Kudu",
      deliveryService: "",
      firstOrder: "6:00 AM",
      lastOrder: "1:45 AM",
      schedule: {
        Saturday: "05:00 AM - 04:00 AM",
        Sunday: "05:00 AM - 04:00 AM",
        Monday: "05:00 AM - 04:00 AM",
        Tuesday: "05:00 AM - 04:00 AM",
        Wednesday: "05:00 AM - 04:00 AM",
        Thursday: "05:00 AM - 04:00 AM",
        Friday: "05:00 AM - 04:00 AM"
      },
      remarks: "",
      lat: 24.6850636,
      lon: 46.6778853,
      link: "https://maps.app.goo.gl/z5qVe8Y2Ecvvdyyq6"
    },
    {
      name: "KR-02",
      status: "Permanently Closed",
      delivery: "No",
      brand: "Kudu",
      deliveryService: "",
      firstOrder: "",
      lastOrder: "",
      schedule: {
        Saturday: "-",
        Sunday: "-",
        Monday: "-",
        Tuesday: "-",
        Wednesday: "-",
        Thursday: "-",
        Friday: "-"
      },
      remarks: "",
      lat: 24.70202977,
      lon: 46.69658292,
      link: "https://maps.app.goo.gl/khRU8GrtAtrFUchh9"
    },
    {
      name: "KR-120",
      status: "New Store",
      delivery: "No",
      brand: "Kudu",
      deliveryService: "",
      firstOrder: "",
      lastOrder: "",
      schedule: {
        Saturday: "05:00 AM - 04:00 AM",
        Sunday: "05:00 AM - 04:00 AM",
        Monday: "05:00 AM - 04:00 AM",
        Tuesday: "05:00 AM - 04:00 AM",
        Wednesday: "05:00 AM - 04:00 AM",
        Thursday: "05:00 AM - 04:00 AM",
        Friday: "05:00 AM - 04:00 AM"
      },
      remarks: "",
      lat: 24.55469633,
      lon: 46.4912223,
      link: "https://maps.app.goo.gl/St92FyS7G1nTf2b3A"
    },
    {
      name: "KS-17",
      status: "Not connected",
      delivery: "No",
      brand: "Kudu",
      deliveryService: "",
      firstOrder: "",
      lastOrder: "",
      schedule: {
        Saturday: "-",
        Sunday: "-",
        Monday: "-",
        Tuesday: "-",
        Wednesday: "-",
        Thursday: "-",
        Friday: "-"
      },
      remarks: "",
      lat: 18.32404254,
      lon: 42.69488444,
      link: "https://maps.app.goo.gl/TnwQ2M4xFcxhPn8MA"
    },
    {
      name: "KS-25",
      status: "Replaced",
      delivery: "No",
      brand: "Kudu",
      deliveryService: "",
      firstOrder: "",
      lastOrder: "",
      schedule: {
        Saturday: "05:00 AM - 04:00 AM",
        Sunday: "05:00 AM - 04:00 AM",
        Monday: "05:00 AM - 04:00 AM",
        Tuesday: "05:00 AM - 04:00 AM",
        Wednesday: "05:00 AM - 04:00 AM",
        Thursday: "05:00 AM - 04:00 AM",
        Friday: "05:00 AM - 04:00 AM"
      },
      remarks: "",
      lat: 19.88339777,
      lon: 41.56790125,
      link: "https://maps.app.goo.gl/hZuivSCB2Ke6FYLb8"
    },
    {
      name: "KE-30",
      status: "Temporarily Closed",
      delivery: "No",
      brand: "Kudu",
      deliveryService: "",
      firstOrder: "",
      lastOrder: "",
      schedule: {
        Saturday: "05:00 AM - 04:00 AM",
        Sunday: "05:00 AM - 04:00 AM",
        Monday: "05:00 AM - 04:00 AM",
        Tuesday: "05:00 AM - 04:00 AM",
        Wednesday: "05:00 AM - 04:00 AM",
        Thursday: "05:00 AM - 04:00 AM",
        Friday: "05:00 AM - 04:00 AM"
      },
      remarks: "",
      lat: 26.32372362,
      lon: 50.16481656,
      link: "https://maps.app.goo.gl/igzF1DhAe2Kye3h77"
    },
    {
      name: "AK-06",
      status: "Open",
      delivery: "No",
      brand: "Al Khafeef",
      deliveryService: "",
      firstOrder: "",
      lastOrder: "",
      schedule: {
        Saturday: "05:00 AM - 04:00 AM",
        Sunday: "05:00 AM - 04:00 AM",
        Monday: "05:00 AM - 04:00 AM",
        Tuesday: "05:00 AM - 04:00 AM",
        Wednesday: "05:00 AM - 04:00 AM",
        Thursday: "05:00 AM - 04:00 AM",
        Friday: "05:00 AM - 04:00 AM"
      },
      remarks: "",
      lat: 24.66276614,
      lon: 46.70097824,
      link: "https://maps.app.goo.gl/BJcqEbhFgF2VWxaa8"
    },
    {
      name: "KR-22",
      status: "Open",
      delivery: "No",
      brand: "Kudu",
      deliveryService: "",
      firstOrder: "",
      lastOrder: "",
      schedule: {
        Saturday: "08:30 AM - 09:30 PM",
        Sunday: "08:30 AM - 09:30 PM",
        Monday: "08:30 AM - 09:30 PM",
        Tuesday: "08:30 AM - 09:30 PM",
        Wednesday: "08:30 AM - 09:30 PM",
        Thursday: "08:30 AM - 09:30 PM",
        Friday: "01:00 PM - 09:30 PM"
      },
      remarks: "Pickup only - Mall",
      lat: 24.69006909,
      lon: 46.68657897,
      link: "https://maps.app.goo.gl/J9nUXamE7EoTvazD7"
    },
    {
      name: "KR-16",
      status: "Open",
      delivery: "Yes",
      brand: "Kudu",
      deliveryService: "Holouly service",
      firstOrder: "6:00 AM",
      lastOrder: "1:45 AM",
      schedule: {
        Saturday: "05:00 AM - 04:00 AM",
        Sunday: "05:00 AM - 04:00 AM",
        Monday: "05:00 AM - 04:00 AM",
        Tuesday: "05:00 AM - 04:00 AM",
        Wednesday: "05:00 AM - 04:00 AM",
        Thursday: "05:00 AM - 04:00 AM",
        Friday: "05:00 AM - 04:00 AM"
      },
      remarks: "",
      lat: 24.76021044,
      lon: 46.67369502,
      link: "https://maps.app.goo.gl/NfteRPsuDkQK1oab8"
    },
    {
      name: "KF-01",
      status: "Open",
      delivery: "Yes",
      brand: "Franchise",
      deliveryService: "",
      firstOrder: "6:00 AM",
      lastOrder: "2:45 AM",
      schedule: {
        Saturday: "05:00 AM - 04:00 AM",
        Sunday: "05:00 AM - 04:00 AM",
        Monday: "05:00 AM - 04:00 AM",
        Tuesday: "05:00 AM - 04:00 AM",
        Wednesday: "05:00 AM - 04:00 AM",
        Thursday: "05:00 AM - 04:00 AM",
        Friday: "05:00 AM - 04:00 AM"
      },
      remarks: "",
      lat: 24.57775533,
      lon: 46.5803146,
      link: "https://maps.app.goo.gl/eD9ZtP7yUbJvUWds9"
    },
    {
      name: "KF-05",
      status: "Open",
      delivery: "Yes",
      brand: "Franchise",
      deliveryService: "",
      firstOrder: "6:00 AM",
      lastOrder: "2:45 AM",
      schedule: {
        Saturday: "05:00 AM - 04:00 AM",
        Sunday: "05:00 AM - 04:00 AM",
        Monday: "05:00 AM - 04:00 AM",
        Tuesday: "05:00 AM - 04:00 AM",
        Wednesday: "05:00 AM - 04:00 AM",
        Thursday: "05:00 AM - 04:00 AM",
        Friday: "05:00 AM - 04:00 AM"
      },
      remarks: "",
      lat: 24.59976269,
      lon: 46.74606857,
      link: "https://maps.app.goo.gl/LSaXgCjm1APkUCS2A"
    },
    {
      name: "KF-06",
      status: "Open",
      delivery: "Yes",
      brand: "Franchise",
      deliveryService: "",
      firstOrder: "6:00 AM",
      lastOrder: "2:45 AM",
      schedule: {
        Saturday: "05:00 AM - 04:00 AM",
        Sunday: "05:00 AM - 04:00 AM",
        Monday: "05:00 AM - 04:00 AM",
        Tuesday: "05:00 AM - 04:00 AM",
        Wednesday: "05:00 AM - 04:00 AM",
        Thursday: "05:00 AM - 04:00 AM",
        Friday: "05:00 AM - 04:00 AM"
      },
      remarks: "",
      lat: 24.76040671,
      lon: 46.81272199,
      link: "https://maps.app.goo.gl/1NnAawxGw9bTnsj37"
    },
    {
      name: "KF-07",
      status: "Open",
      delivery: "Yes",
      brand: "Franchise",
      deliveryService: "",
      firstOrder: "7:00 AM",
      lastOrder: "2:45 AM",
      schedule: {
        Saturday: "06:00 AM - 04:00 AM",
        Sunday: "06:00 AM - 04:00 AM",
        Monday: "06:00 AM - 04:00 AM",
        Tuesday: "06:00 AM - 04:00 AM",
        Wednesday: "06:00 AM - 04:00 AM",
        Thursday: "06:00 AM - 04:00 AM",
        Friday: "06:00 AM - 04:00 AM"
      },
      remarks: "",
      lat: 30.9748409,
      lon: 41.01180804,
      link: "https://maps.app.goo.gl/iF7eDXcAZBDxdcoQ7"
    },
    {
      name: "AK-52",
      status: "New Store",
      delivery: "",
      brand: "Al Khafeef",
      deliveryService: "",
      firstOrder: "",
      lastOrder: "",
      schedule: {
        Saturday: "05:00 AM - 04:00 AM",
        Sunday: "05:00 AM - 04:00 AM",
        Monday: "05:00 AM - 04:00 AM",
        Tuesday: "05:00 AM - 04:00 AM",
        Wednesday: "05:00 AM - 04:00 AM",
        Thursday: "05:00 AM - 04:00 AM",
        Friday: "05:00 AM - 04:00 AM"
      },
      remarks: "",
      lat: 24.83625174,
      lon: 46.68316666,
      link: "https://maps.app.goo.gl/z883L5pTnL2Lp7MSA"
    }
  ];

  const brandColors = {
    "Kudu": "#0033cc",
    "Al Khafeef": "#FFD700",
    "Franchise": "#28a745"
  };

  const map = L.map('map').setView([24.7, 46.7], 6);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution:
      '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
  }).addTo(map);

  stores.forEach(store => {
    const color = brandColors[store.brand] || "#555";

    const markerIcon = L.divIcon({
      html: `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="30" viewBox="0 0 24 30">
        <path fill="${color}" stroke="#333" stroke-width="1" d="M12 0C7.031 0 3 4.031 3 9c0 7.5 9 21 9 21s9-13.5 9-21c0-4.969-4.031-9-9-9z"/>
        <circle fill="white" cx="12" cy="9" r="4"/></svg>`,
      className: '',
      iconSize: [24, 30],
      iconAnchor: [12, 30],
      popupAnchor: [0, -30]
    });

    const marker = L.marker([store.lat, store.lon], { icon: markerIcon }).addTo(map);

    const scheduleText = `
      السبت: ${store.schedule.Saturday}<br/>
      الأحد: ${store.schedule.Sunday}<br/>
      الإثنين: ${store.schedule.Monday}<br/>
      الثلاثاء: ${store.schedule.Tuesday}<br/>
      الأربعاء: ${store.schedule.Wednesday}<br/>
      الخميس: ${store.schedule.Thursday}<br/>
      الجمعة: ${store.schedule.Friday}
    `;

    const popupContent = `
      <b>${store.name}</b><br/>
      الحالة: ${store.status}<br/>
      التوصيل: ${store.delivery}<br/>
      العلامة التجارية: ${store.brand}<br/>
      مزود التوصيل: ${store.deliveryService || "-"}<br/>
      أول طلب: ${store.firstOrder || "-"}<br/>
      آخر طلب: ${store.lastOrder || "-"}<br/>
      <b>مواعيد العمل:</b><br/>
      ${scheduleText}
      ${store.remarks ? `<br/><b>ملاحظات:</b> ${store.remarks}` : ""}
      <br/><a href="${store.link}" target="_blank">رابط الموقع</a>
    `;

    marker.bindPopup(popupContent);
  });
</script>
</body>
</html>
